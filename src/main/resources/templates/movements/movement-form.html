<div th:fragment="movement-form">
    <h2>Add Movement</h2>

    <form th:action="@{/items/{id}/movements(id=${itemDetails.id})}"
          th:object="${movementForm}"
          method="post">

        <div>
            <label for="movementType">Type</label>
            <select id="movementType" 
                    th:field="*{movementType}" 
                    class="form-control"
                    th:classappend="${#fields.hasErrors('movementType')} ? 'is-invalid'">
                <option value="" disabled selected>Select type</option>
                <option th:each="type : ${movementTypes}"
                        th:value="${type}"
                        th:text="${type}">
                </option>
            </select>
        </div>
        <div class="invalid-feedback" th:if="${#fields.hasErrors('movementType')}" th:errors="*{movementType}"></div>
        <div>
            <label for="quantity">Quantity</label>
            <input type="number"
                    id="quantity" 
                    th:field="*{quantity}" 
                    class="form-control"
                    th:classappend="${#fields.hasErrors('quantity')} ? 'is-invalid'" />
        </div>
        <div class="invalid-feedback" th:if="${#fields.hasErrors('quantity')}" th:errors="*{quantity}"></div>
        <div>
            <label for="movementDate">Date</label>
            <input type="date" 
                    id="movementDate" 
                    th:field="*{movementDate}" 
                    class="form-control"
                    th:classappend="${#fields.hasErrors('movementDate')} ? 'is-invalid'" />
        </div>
        <div class="invalid-feedback" th:if="${#fields.hasErrors('movementDate')}" th:errors="*{movementDate}"></div>
        <div>
            <label for="reference">Reference</label>
            <input type="text" 
                    id="reference" 
                    th:field="*{reference}" 
                    class="form-control"
                    th:classappend="${#fields.hasErrors('reference')} ? 'is-invalid'" />
        </div>
        <div class="invalid-feedback" th:if="${#fields.hasErrors('reference')}" th:errors="*{reference}"></div>
        <div>
            <label for="note">Note</label>
            <input type="text" 
                    id="note" 
                    th:field="*{note}" 
                    class="form-control"
                    th:classappend="${#fields.hasErrors('note')} ? 'is-invalid'" />
        </div>
        <div class="invalid-feedback" th:if="${#fields.hasErrors('note')}" th:errors="*{note}"></div>

        <button type="submit">Add Movement</button>
    </form>
</div>